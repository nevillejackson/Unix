%
% Draft  document mxkde.tex
% Analysis of data from ab46 on dermal papilla cell counts
%
 
\documentclass{article}  % Latex2e
\usepackage{graphicx,lscape,subfigure}
 

\title{My experiences with MX21-KDE-x86 Linux}
\author{Neville Jackson}
\date{19 Feb 2022} 

\begin{document} 

\maketitle      

\section{Introduction} 
This investigation arose from a discussion on {\em itsFOSS} in which it became obvious that my impressions of the KDE Desktop Environment had been formed with a seriosly out of date version, way before the Plasma version. 

The decision to look at MX-KDE was based on some helpful advice, and on the need to use a very up-to-date version of KDE. MX is {\em the} most popular Linux at present, and is a member of the Debian family, with which I am familiar.

The approach taken was to pretend to be a new user of Linux, and to attempt to do everything with GUI tools. 
I also attempted to make some comparative assessments with other Linux versions and DTE's which I have installed for my normal work.

\section{Install}
\label{sec:install}
The MX21-KDE-x86.iso file was downloaded and installed to a 186Gb pre-prepared partition with an ext4 filesystem. There were existing swap spaces. The /home directory was left on the root filesystem. An existing grub2 was used to boot.

The comptuter used  was a desktop with the following hardware and software
\begin{verbatim}
System:
  Kernel: 5.10.0-9-amd64 x86_64 bits: 64 compiler: gcc v: 10.2.1 
  parameters: BOOT_IMAGE=/boot/vmlinuz-5.10.0-9-amd64 root=/dev/sda1 
  Desktop: KDE Plasma 5.20.5 wm: kwin_x11 vt: 7 dm: SDDM 
  Distro: MX-21_KDE_x64 Wildflower October 20  2021 
  base: Debian GNU/Linux 11 (bullseye) 
Machine:
  Type: Desktop Mobo: ASUSTeK model: P9X79 DELUXE v: Rev 1.xx 
  serial: <filter> UEFI: American Megatrends v: 1203 date: 05/24/2012 
CPU:
  Info: 6-Core model: Intel Core i7-3930K bits: 64 type: MT MCP 
  arch: Sandy Bridge family: 6 model-id: 2D (45) stepping: 7 
  .............
\end{verbatim}
as determined by the MXtools Quick system Info package. 
There should be no performance issues, the computer is about 10 years old but has ample cpu power and 64Gb of ram.

The approach taken was to  pretend that I was a new user wanting to do everything with GUI tools, because I wanted to see if these tools would perform for someone who had no other option.

Before proceeding I wanted to update the system.  So I hunted round for a system updat GUI and found {\em CLI APT-based Package Manager}.   It says 
\begin{verbatim}
Run apt-get update now?
\end{verbatim}
I say Yes and it just goes around a loop and asks the same question .... endlessly. Oh, I see, you have to say NO. Then it offers to do an upgrade, so I do it and it does an upgrade with output just like apt-get upgrade.  OK I got there, but it would have been quicker by hand.

{\bf Verdict:} It worked but I got confused.

{\bf Score:} About 9/10

{\bf Recommends:}  Not sure . A bit more dialog might help.

I pretended that I was a new user wanting to do everything with GUI tools, because I wanted to see if these tools would perform for someone who had no other option.

\subsection{Setup my network}
The machine has 2 ethernet ports - eth0 is a local network with printers and other computers, eth1 is connected to the ADSL modem which has DHCP. 

So {\em Settings - System Settings - Connections} and it brings up what it calls Wired Connection 1  and Wired Connection 2.  I cant tell which is which , it had set both to automatic meaning it is trying to do DHCP on both.  I have to look at {\em ip addr} and {ip route} to see what it is trying to do. I find it has a working connection to the modem on Wired Connection2, and the other is non functional.

I try to set Wired Connection 1 to static with an IP address and netmask using the GUI menu. It fails.  I cannot ping anything on the local network.

I think the GUI is using NetworkManager. Trying to manage both networks with NetworkManager ( ie with the GUI) is a bad idea. So I decide to only let NetworkManager manage the DHCP link, and to make the local network static and controlled by thef-up/if-down system.

So, I have to setup the /etc/networkj/interfaces file as follows
\begin{verbatim}
# The loopback network interface
auto lo
iface lo inet loopback

# The primary network interface
# eth1 is under NetworkManager

# The local private network
auto eth0
iface eth0 inet static
    address 192.168.32.6
    netmask 255.255.255.0
\end{verbatim} 
Then I boot the machine, and let NetworkManager bring up only one connection, this time it calls it Wired Connection 1, and it works. And now the local static network works too. 
There is no sign of a Wifi connection.  I do have a WiFi port, but the GUI cant find it . The {\em ip} command can find wlan0, so if I wanted that I would probably have to set it up outside the GUI too. 
 
I tried the obvious experiment, disconnect the ethernet connection to modem and see if the GUI finds the WiFi connection - it doesnt find it. 

Then I discover the bottom panel has a  button called {\em Networks} and it sees both the wired connection eth1 and  the WiFi connection to the modem, and I can enable the WiFi connection from there. If I enable both the WiFi and eth1 I get 2 default routes, which is OK.

Then with both eth1 and WiFi connections turned on in the panel, I go back into the KDE GUI, and now it lists both Wired connection1 and the WiFi connection to modem. Wow. How was I supposed to know to setup the panel first and then use the KDE GUI?

{\bf Verdict:}  Hardly a triumph for the Connections GUI, but I think the problem is it depends on NetworkManager which is notoriously difficult, and it does not seem to deal with WiFi connections unless they are turned on first in the lower panel. Having Networks in the panel as well as a Connections GUI is confusing.

{\bf Score:} about 3/10

{\bf Recommends:} The following changes to GUI are needed
\begin{itemize}
\item   It needs to label the connections with something intelligable like {\em Intel 82579V Ethernet or eth1}
\item It needs to deal with WiFi without depending on the Panel - it has {\em Connections} ( which seems to mean all connections) and {\em Bluetooth}  but no {\em WiFi}  appears in the listed connections until WiFi is turned on in the panel.
\item It should offer the user some choice before diving into NetworkManager. If it had a preliminary screen which simply listed all the connection hardware and asked the user for some tips about what they wanted for each interface, then it might be able to setup NetworManager sensibly. Alternatively, and less desirably, it might {\em direct} the user to the existence of the panel.
\item The MX Network Assistant goes some way towards this. It lists all the interfaces , properly labelled, but it does not offer to accept any user input and it does not link up to  the KDE Connections menu.
\end{itemize}
Networking seems to always be made more difficult than it should be. There is base information ( like what are the interfaces and what do you want to do with them) and there are prrocedures ( ways of configuring). Network GUI's seem to always mix these 2 things up and thereby confuse the user. All the user should need to be involves in is is the base info. The rest should be able to be logically automated.

\subsection{Setting up OKI Postscript printer}
This is a very simple printer to setup because it has inbuilt postscript and there are drivers present in just about every Linux version. So lets see if we can do it with the GUI.

So {\em Settings - System Settings - Printers} then
Add new printer, and it discovers OKIPage12i and MFC640CW. Choose OKIPage12i, and it brings up 192.168.32.99 and Port 9100. The IP address is right, it is an ethernet printer. Never seen Port 9100 before, so ignore it. Choose a driver Okipage12i Foomatic/Postscript from the list, name it OKI, and set a s default printer. All looks correct so print a test page , and it prints an error sheet!!

Go thru it all again, cant see anything else to set , so go back to CUPS localhost:631 page. Set it all up again with CUPS, then right at the end I notice Papersize is set to {\em letter}. Change to {\em A4}. Print test page, and it works.

So why didnt the GUI offer me a menu item to set the Papersize? That is fairly basic.  Go back and check - it really is not there in the GUI.

{\bf Verdict:} The GUI fails to configure the printer

{\bf Score:} About 1/10. 

{\bf Recommends:} It would be an easy fix. Just add a menu item for Papersize, or at least a warning message.  There is another way - in Void Linux clicking on the {\em System settings - Printers} menu just brings up the CUPS localhost:631 page which is a bit less friendly than the KDE GUI, but it least it has all the neessary functions.

\subsection{Setting up Brother multifunction printer}
This is also an ethernet connected printer, but it is not Postscript, it requires drivers. The drivers are not available in any Linux distro I know of, one has to download them from the Brother site. 

I have done this  lots of times. I have to check for presence of some directories, install the csh shell, then use dpkg to install the drivers which are .deb files., and finally copy some libraries into /usr/lib32. There is no GUI for any of that so I just do it.

Then do as for OKI printer in {\em Settings - System settingd Printers}. It does all that OK, finds the drivers I installed. At end I print a test page , and this time I get a test page to print but half ogff the edge of the page. Clearly the papersize is wrong again. So back to CUPS, fix the papersize, and it prints test page correctly. 

{\bf Verdict:} The GUI fails for same reason as for OKI printer.

{\bf Score:} About 2/10

{\bf Recommends:} Add a papersize setting to GUI menu.


\subsection{Mounting filesystems}
I need to mount another filesystem on /dev/sda4,  automatically, every time it boots. The GUI that does mounts seems to be Dolphin. Dolphin can find the partition and will mount the filesystem for the current run, but it does not seem to have any menu choice to do an automount.  There is also the MX-Tools Disk Manager GUI, it is the same - ie it will do an in-session mount, but not an automount.

I am not surprised that a GUI is not provided for this. Editing {\em /etc/fstab}  is one of the easiest ways to lock yourself out. One slip and it will not boot. 

So, I very carefully make a mount point called {\em /common}, make a backup copy of fstab, edit it adding one line to mount {\em /dev/sda4} to {\em /common} . Reboot, and it works. 

{\bf Verdict:} I had to use the command line here, but there is a good reason.

\subsection{Adding a directory to the search path}
I want to add {\em /home/nevj/bin} to my PATH. There seems to be a tool for this. So I open {\em System - Bash Config} select {\em Executable paths} and add {\em /home/nevj/bin}, exit and do {\em echo \$PATH} , and it is not there. 
Then I remember, you have to either use {\em source .profile} or reboot to get {\em bash} to read its {\em .profile}. So reboot, and {\em echo \$PATH} again, and it is there now. 

{\bf Verdict:} Well at last something works

{\bf Score:} About 9/10

{\bf Recommends:} It would have been nice to warn the first time user that they had to reboot for it to take effect.

\section{Usage using GUI tools}
\label{sec:usage}

\subsection{File Manager}
I want to look at that fstab file I edited, so lets try out {\em Dolphin}. I move it to {\em /etc} then double click on {\em fstab} and great, it displays the contents of {\em fstab} in a {\em KWrite} window. I then try the same with {\em fstab.orig} and it says it cant determine the file type and brings up a popup of things I might want to open the file with. That is nonsense, it is a text file, almost identical to {\em fstab}.  Go away and think. Try again next day , and it is OK - ie Dolphin displays both files correctly. How can it change?

Much fiddling around, I decide to do a simple test. Make a file called {\em txt.txt} with a few lines of ASCII text. Copy it to three other files {\em txt.jpg} {\em txt.pdf} and {\em txt.orig}. Check their file types
\begin{verbatim}
nevj@trinity:~
$ file txt*
txt.jpg:  ASCII text
txt.orig: ASCII text
txt.pdf:  ASCII text
txt.txt:  ASCII text
nevj@trinity:~
$ 
\end{verbatim}
Start Dolphin. {\em txt.txt} and {\em txt.orig} display correctly in a KWrite window, but {\em txt.jpg} attempts to display in a {\em Gwenview} window and gets the message {\em Loading txt.jpg failed} and {\em txt.pdf} attempts to display in an {\em okular} window which can display text so it works. Boot and try again, still the same.

So  I determine that {\em Dolphin} seems sometimes to be using the 'extension' part of the filename to determine its type. Why ?  That is Microsoft nonsense. Unix filesystem does not work like that, Unix uses the {\em file} command to determine file types, and extensions can be anything or not even present. I also dont understand this intermittant behaviour?  Is the system taking time to sort out file types in background?

I accept that it is nice for a graphical File Manager to identify file types, so it can display them with a click.  But for goodness sake, why cant Dolphin use the {\em file} command instead of extensions. 


{\bf Verdict:} Has to be a fail. We want it to correctly identify Unix file types.

{\bf Score:} About 4/10, it looks OK otherwise.

{\bf Recommends:} Use {\em file} command to determine file types in Dolphin. Find why this issue is intermittant?

\subsection{\LaTeX install}
I want to install \LaTeX \hspace{1pt} to write this document. So lets give the MX Package Installer a try. Start MX Package Installer, choose Stable Repo, search for texlive,
install texlive, and a heap of additional packages.  Installs all work first go.

I am going to need a pdf viewer, so also install evince. Then discover okular is nearly the same, so lets use okular.

This doc was written in  \LaTeX \hspace{1pt} using {\em vi} in the konsole terminal window, Pdf output was from {\em pdflatex} from the texlive package. I used {\em okular} to dynamically view pdf output. Everything worked

{\bf Verdict:} All OK

{\bf Score:} 10/10

{\bf Recommends:} The MX package Installer is a bit plain as GUI, but it functions.

\subsection{R install}
This time I decided to try Discover, which is a KDE package management GUI.  Discover is a much more upmarket GUI than MX Package Installer. You can search for applications in categories, and it segregates application addons, and plasma addons (what are they?). 

So search for {\em r-cran} and it finds R and R-commander. Install R and everything goes smoothly. What you get is an R icon under Science and Math and also under Graphics. Start up R using the icon -- and it brings up R in a Konsole window.  Where is it in the filesystem?
\begin{verbatim}
> system("pwd")
/home/nevj
> 
\end{verbatim} 
It is in my home directory.  That is crazy! It suggests a complete lack of understanding of the way R is used and how workspaces are accessed and saved.

The basic approach of all R users is that you {\em cd} in a terminal window to the directory for the project you want to work on, then open R there , so that it accesses and saves its workspace (which is a file called .RData) in that directory. This keeps workspaces for various projects separate, and, more importantly, stops you from running 2 copies of R with the same workspace. 

So what the icon does  is useless to any R user who wants to work on more than one project, and is actually {\em dangerous} because it is possible to hit the icon  twice and start two copies of R running, both in the home directory which would result in workspace corruption.

What did it install?
\begin{verbatim}
> sessionInfo()
R version 4.0.4 (2021-02-15)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Debian GNU/Linux 11 (bullseye)

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
\end{verbatim}

OK, so it used R-4.0.4 ( same as Debian 11) but it used the R BLAS libraries. I wanted the OpenBLAS libraries - ie like I get in Debian shown below
\begin{verbatim}
> sessionInfo()
R version 4.0.4 (2021-02-15)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Debian GNU/Linux 11 (bullseye)

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.13.so
\end{verbatim}

That is a mystery. How can MX be in line with Debian 11 for R , but not use the update-alternatives facility to offer alternative BLAS libraries. 

Might sound trivial, but it is important to anyone who does liear algebra in R

 
{\bf Verdict:} Very poor effort. Not KDE specific, all DTE's treat R like this. We can do better.

{\bf Score:} About 1/10 for GUI  and that is generous.

{\bf Recommends:} The icon should bring up a preliminary window in which the user can set the working directory, define the things that normally go in the .First file and .Last file, give access to the {\em R CMD ...}  statement and well as plain {\em R} with options,  and perhaps set packages to be loaded. There is an opportunity for KDE to do much better here. At least in Solus they had the sense to leave the R entry out of the menus altogether, so that one can only use it from the command line. 


\subsection{Julia install}
Julia has a different workflow ethic to R. The Julia REPL (read, evaluate, print loop) is just that; it does not have a workspace which it saves automatically to a file, like R. With Julia you keep the *.jl files and other data in a directory and manage them with your favourite editors, Unix file utilities, etc. You can either {\em include} .jl files into the REPL to execute them, or run them as scripts. 

So Julia is not as fussy about where it runs as R. Lets see how an install goes. We use {\em MX Package Installer} this time. Go to Stable Repo, search for julia, a bit slow but it finds it, do install - it scrolls output across the screen , just like apt-get, finishes successfully .  A Julia icon appears in Science and Math. 
 
Start Julia with the icon - it brings up a Konsole window, just like R, and again in the home directory.

{\bf Verdict:} Same issue as R but not as serious.  It still lets me start two Julias in the same directory.  It offers no choice of working directory. 

{\bf Score:} About 5/10. OK but could do a lot better

{\bf Recommends:}  Make a startup window that offers user a few choices, like which directory to work in, set julia command options,  execute a source file. I know there are environments like {\em jupyter} but that is no excuse for installing an icon that does nothing.

\subsection{Vi usage}
I often use {\em view} which is part of {\em vi} to look at large text files, because it is safe - it opens the file in read only mode.. It also scrolls around better than {\em more}. So {\em view mxkde.tex} and up comes another window ( unexpected) with a weird top and bottom panel? 

After some trial and error I determine that it is loading the {\em Midnight Commander editor} which happens to also be called {\em view}. So there is a name clash.

After using {\em vi} awhile, I discover that if I am insert mode and the mouse focus leaves the window to do something else, and then I return to vi, it is no longer in Insert mode? I dont want that behaviour. 
{\bf Verdict:} Easily fixed. Remove {\em Midnight Commander editor}. Then my {\em vi} version of {\em view} works. Would a novice have worked this out?

{\bf Score:} About 5/10. 

{\bf Recommends:} MX ought to be more careful about clashes.

\section{Comparative assessments}
We now want to look at things other than "does it work?". Things like "does it promote a good workflow" , " is it easy on the eyes", "is there any artistic quality". These can only be done comparatively. So I have to line it up against some of my other installations and make some subjective judgements.

I have
\begin{itemize}
\item MX/KDE
\item Debian/Gnome
\item Devuan/Xfce
\item Solus/Budgie
\item Void/Xfce
\end{itemize}
Set up some scores
\begin{description}
\item[workflow] anyone can make a clutter by invoking too many objects and arranging them poorly. We have to take that factor out of it  and try and assess how well each DTE helps me to be tidy and makes it easy to access tools. 
\item[look] things important for "easy on the eyes" are night redshift and color balance and not having to move things frequently.
\item[feel] artistic quality almost impossible to describe. It means "do I feel happy using it" or "is it interesting" or simply "do I react positively"
\end{description}
 I attempted to rate each of my installations for the above attributes on a score of 1 to 10, 10 being best. My scores, which are highly subjective, are shown in Table~\ref{tab:scores}
\input{tabscores.tex}

Basically the minimal desktops (Xfce) encourage tidiness and easy workflow, the ones with redshift (KDE, Solus, and Gnome) are superior for night work, and the one that excites me most is Solus, although KDE is a good second. There must be some artistic talent on the Solus team, the Solus Software Centre is outstanding - way ahead of all contenders. Xfce needs to catch up on redshift, it will never feel wonderful, but it wins in making things simple. One thing that helps with workflow is being able to restore the previous session on reboot. Only Xfce and KDE can do this, as far as I can determine.

We will finish with some screenshots. Figure~\ref{fig:mxkde} shows the MX-KDE default screen with the {\em Discover} package utility GUI displayed.
\input{figmxkde.tex}
{\em Discover} is quite well put together, and easy to use.  There is also the MX Package Installer, which is very plain.

I am trying to get the next image, so I mount the Solus filesystem with {\em Disk Manager} . That mounts to {\em /media/sda7}. Then I want to view the available shots, so I use {\em Gwenview} , and it cannot access the mnounted filesystem - /mnt does not appear anywhere in its {\em Places} menu?

So - very poor integration between Gwenview and  Disk Manager. Hang it I will just copy them all across to my workspace here and sort it out locally.  Solved it after many trials. You have to open Gwenview with the command line in the mounted directory, then it can see the files within the mount - rather messy!

Figure~\ref{fig:solusbudgie} shows the default Solus/Budgie screen with the Solus Software Management System GUI displayed.
\input{figsolusbudgie.tex}
The Solus Software Management System GUI is very impressive, best I have seen. When you search out a package it brings up a description and for many packages a screenshot - right there in the package manager.

Figure~\ref{fig:voidxfce} shows the default Void/Xfce screen with a termninal window and the Void artwork added.
\input{figvoidxfce.tex}
 Void has no GUI for package management, you have to use the {\em xbps} commands in a terminal. The commands are simple and the package system works well, but there is no GUI.

Figure~\ref{fig:debiangnome} shows the default Debian 11 Gnome 3 screen with the Synaptic Package Manager added.
\input{figdebiangnome.tex}
Synaptic is quite plain compared to Solus/Budgie or Mx/KDE pagkage managers. but it is longstanding and functional. I think most Debian users shun it and use the {]em apt} commands.

Figure~\ref{fig:devuanxfce} shows the Devuan 4 Xfce 4  screen with Synaptic Package Manager added. 
\input{figdevuanxfce.tex}
Devuan is similar to Debian, but the presentation is a bit more enhanced. It is hard to know whether this is Xfce against Gnome, or Devuan against Debian. They are both rather plain compared to Solus/Budgie or MX/KDE.

I hope the screenshots show something of the look and feel of the various DTE's and how I came to score them as in Table!\ref{tab:scores}. It is not feasable to show everything and I am unable to illustrate workflow.


\clearpage
\section{What are these plasmoids and how can I use them?}
Well, after 3 weeks using KDE I have yet to discover a plasmoid. For something that is supposed to be a lead feature of KDE/Plasma desktop, it is rather invisible.  I will have to give in and read the manual.

OK, read up a bit,  the desktop and panel are basic containments that can contain widgets.  That is just renaming things, other DTE's do the same.. I wanted to know about those extra plasmoid things.  I will say one thing, MX comes with reasonable documentation., but KDE Help Center is a bit sparse, and the terminology keeps shifting - are they plasmoids, or applets, or widgets?.

I found the {\em Add Widgets} item on the background menu, and managed to add  {\em Bluetooth} widget to the main background area of the screen. It minimised all my windows, but that is recoverable. So now I have a bluetooth background widget which does exactly the same as the bluetooth panel widget. In other words I didnt need it, so rub it out after finding out I had to use {\em Enter Edit Mode}.  The learning curve is a bit steep.

 Had a browse thru all the widgets. They all seem to be like mini-windows with no controls, but they will do I/O. I might be able to use that.  None of the widgets offered seem essential to me, but I can see that I could use the concept to control and maybe to receive R graphics output. But how do I set up a widget? Well based on my X11 days, it is some sort of programming job, but where are the tools? 

Well, I found the Plasma Addon Installer. There is {\em Command output} , {\em Configurable button},  {\em Scriptinator},  ...  maybe I could use one of those, or maybe I need to program?

Hang on, what is this Conky thing? It seems to have something to do with managing widgets. The {\em About} popup is not helpful, it says "Utility for managing Conky configuration files". I am none the wiser.  I can see {\em conky} is running.  Search of KDE Help Centre says conky has a Unix man page. 
\begin{verbatim}
conky(1) - A system monitor for X originally based on the torsmo ...
\end{verbatim}
Read man page for conky(1). It seems to be about drawing things on the screen from C - like the X11 libraries?  No it is more about system stuff?  I have to resort to Wikipedia to find out what it really is. Not directly relevant.

I tried {\em Command Output}. Installed from the Download New Plasma Widgets window. It appears now in Add Widgets menu. Select and install. And yes, I can write a command output on a panel.

That is enough. I will give Plasma Addons a pass.  This is not the place for a full investigation. They are obviously useful for monitoring things that are changing with time.

On the general idea of having plasmoids on the screen as well as in the panel, I can only acknowledge that it is new and unique to KDE. It is not all that radical a change but it is something, and it may be able to be tailored into something very special in particular cases.

\section{Discussion}
My overall reaction to KDE today? Well it is very difficult for a large development like KDE to escape from its past, and KDE has almost the longest history of all DTE's. I can remember in the 1990's deciding it was too big for my modest 486 running FreeBSD. It is much bigger now, but computers now have ample capacity and I have no problem with its size or speed in my setup.  Some of its features, however, reflect its original design - prefix everything with 'K' or rename it completely, put in multiple tools for the same job,  and end up with large pulldown menus of applications. Other things are new or changing - panel design, plamsmoid widgets, and the quqlit of applications has improved enormously. That 'pin' on the windows reminds me of Openlook and workspaces are, of course a modern development made possible by improvements in memory and graphics interfaces. The actual window manager is invisible, buried behind the DTE somewhere - it was once the only thing present. Modern DTE's do much more than manage windows.

The KDE team have done really well to get it up to or slightly better than the other modern DTE's. Other newly written DTE's like Solus/Budgie have not been constrained by history and it shows in them being able to develop a unique and artistic style of presentation. That would always be much more difficult for KDE, but I would rate it a good second to Solus/Budgie in these matters.

The important thing about KDE is that it is going somewhere. As long as its development is active it should remain one of the DTE's of choice for Linux users.  There will always be niche requirements , like ultra-lite DTE's, which it cannot fill without extensive pruning, but for normal and high end users wanting a GUI with lots of options, it fits well. 

The issues raised in Sections~\ref{sec:install} and ~\ref{sec:usage} would be likely to have trapped a novice user.  I was able to get around all except the issue with {\em vi} insert mode and mouse focus interacting. Most of the GUI issues could be improved with a bit of work and design care. There is room for improvement yet in KDE and in all DTE's.
 
\appendix
\section{Appendix: KDE(5.23.0) to KDE(5.24.1) with Void Linux}
There was some concern that the MX installation used to look at KDE contained an older version of KDE(5.20.5).  The best way to get an uptodate version of KDE was to go to a {\em rolling release} Linux distribution. Arch was suggested, but I chose Void because I wanted to work in a familiar Linux distro while looking at an unfamiliar DTE like KDE.  I started with KDE5.23.0, but it upgraded to KDE5.24.1 while I was working. Rolling releases are great at that.

Void does not come with KDE included in a .iso download. The only Void downloads available for x-86 are Void with Xfce or Void base with no DTE. So I had to start with Void base. Using my existing Void/Xfce installation was not a proposition, because Void does not support  multiple DTE's the way Fedora does.

\subsection{Installing Void base}
\begin{enumerate}
\item Download the Void base live image with glibc called {\em void-live-x86\_64-20210930.iso}. (542Mb)
\item  Copy it to a USB drive with {\em dd}.
\item Use {\em Gparted} to make a new ext4 partition sdb12 for the install 
\item Boot the USB drive, it comes up with \# prompt.
\item {\em \#void-installer} ..... starts the install
\item lots of trivial setups, including network on eno1 using DHCP
\item dont install bootloader ... I already have grub2 configures under Debian
\item dont make any partitions
\item identify sdb12 and set its mount point to /
\item install .... successful
\item reboot and start Debian 11
\item {\em update-grub2} in Debian 11  .... finds void on sdb12
\item reboot and start void on sdb12 ... I get a login prompt on an alphanumeric screen
\item login as root 
\item {\em xbps-install} -Su ..... lots of updates downloaded
\end{enumerate}
 There is no X11 and no DTE, but it is ready to install KDE, I think ..

\subsection{Installing KDE}
\begin{enumerate}
\item Find out what the KDE metapackage is called. 
{\em xbps-query -Rs kde}
gives kde5-5.23.0\_1
\item {\em xbps-install kde5} .... 415Mb download and uses 1256Mb on disk  ... almost as large as Void-base
\item Reboot  .... still shows the alphanumeric screen login  ... did not start the Display Manager or KDE
\item login and search for a display manager ... find {\em sddm}  is installed but the daemon is not running. That's strange, normally when a daemon is installed the install package automatically starts the service?
\item Try starting sddm from the command line. Get a message
"/usr/bin/xauth not found".
So it cant start , there is something missing
\item {\em xbps-install xauth} .....   then the file /usr/bin/xauth is present
\item Retry sddm from command line .... no messages and it runs
\item Start {\em sddm} as a service ... this is {\em runit} we do it by making a link
{\em ln -s /etc/sv/sddm /var/service}
\item Check sddm is running
\begin{verbatim}
\# sv status /var/service/*
.....
run: /var/service/sddm: (pid 901) 3459s
....
\end{verbatim}
\item Reboot .... still get an alphanumeric login screen
login .... {\em sddm} is now running
Must be something else missing
Consult the Void Handbook ... when all else fails
It says I need to also start {\em dbus}. So
{\em ln -s /etc/sv/dbus /var/service}
And check
\begin{verbatim}
\#sv status /var/service/*
....
run: /var/service/dbus: (pid 900) 3459s
run: /var/service/dhcpcd: (pid 891) 3460s
run: /var/service/sddm: (pid 901) 3459s
....
\end{verbatim}
So now they are both running.
\item Handbook also says I need to install xorg-minimal, so
{\em xbps-install xorg-minimal}
\item Reboot .... now I get a Display Manager screen, so {\em sddm} is running .
The screen offers {\em Plasma Wayland or Plasma X11}..... choose X11 and login
KDE comes up ... not much to see - weird orange and blue background, App button in lower panel, try that and it offers only a few apps ... system settings, emojii, system monitor,... Nothing useful. How do I get a terminal? Try search for {\em konsole} ... nothing there. Cant do anything? Logout ... comes back to sddm screen. Cant get back to the alphanumeric screen to get a command line? Gotcha
\item I have to resort to booting Debian, mounting the Void filesystem and temporarily preventing the sddm daemon from starting by renaming it.  Then boot Void and I have the alhpanumeric login screen again.
\item Now I have control back. Search around and read the Handbook again and decide that the package {\em kde-baseapps} which the handbook say is optional is actually necessary to get a {\em konsole} app. So
{\em xbps-install kde5-baseapps}
and it adds lots of usefult things like ...konsole, dolphin, kate, ....
\item Put {\em sddm} daemon back so it will start
\item Reboot .... sddm screen comes up. Login, get KDE, but still no apps in the  Applications Menu.
So nothing appears in the Apps Menu automatically. 
At least now I am able to search for konsole, and get a terminal window.  Now I might be able to start using KDE
\item After poking around KDE for about half a day I could not learn how to add installed apps to the graphic pplication Launcher. Had to give up and consult the internet. Found out you right click on the App Launcher, go to Edit Applications, and it offers KDE Menu editor where you can select an app and save it to the App Launcher Menu. Right I can add Konsole and Dolphin.
\item Installed {\em okular}, {\em firefox} , and {\em git}. Now {\em okular} and {\em firefox} appear automatically in the App Launcher, but not {\em got}. So what is it doing? Why did I have to add things at first and now it is automatic?
\item There is an annoying message that comes up every time during boot, asking me to authorize mounting a filesystem that is not in {\em /etc/fstab} but was mounted once in Dolphin. After much searching of the System Settings, I find that under Removable Storage there is an automount set for attached devices, and my once used hard disk partition is ticked as an attached device and as well ist says "automount all known devices". I untick that and it fixed the problem. But why would I want it to automaount every hard disk partition that I ever used? Crazy. I think this might be useful for plugin drives, but surely not for hard disk partitions.
\end{enumerate}
t would seem KDE developers have tackled the problemn of "too many apps in the menu" by starting with an empty App Launcher and forcing the user to add each app. That is what Gnome does. It is better.
Figure~\ref{fig:voidkde} shows the KDE screen running in Void, with the System Info window and the Applications Launcher.
\input{figvoidkde.tex}
The orange backgound is the default. Tjere is a lower panel with some widgets, and an empty upper panel.


\subsection{Setups to complete Void Install }
Here we repeat setting up exercises of Section~\ref{sec:install}
\subsubsection{Setup my network}
This is rather different in Void LInux.  Void does not use {\em NetworkManager} by default so it is not installed and the daemon is not running. There is no Panel network widget.  The primary network interface (eth0) is setup during install and is managed by the {\em dhcpcd} daemon.  The secondary interface (enp10s0) is the local network and uses a static IP address. It is setup the BSD way in {\em /etc/rc.local} as follows
\begin{verbatim}
# local static network
ip link set dev enp10s0 up
ip addr add 192.168.32.6/24 brd + dev enp10s0
\end{verbatim}
So there is no need to run {NetworkManager} unless  I wanted to use the wireless interface. 
The graphic {\em System Settings - Connections} GUI does not function. This proves that it is only a front end for NetworkManager. It will not work with other methods of network configuration.

{\bf Verdict:} Same as KDE 5.20.5, only Void exposes the narrowness of this Connections GUI. It assumes all network configuration will be done under NetworkManager. There are better ways, especially on a simple home desktop.

{\bf Recommend} Nothing changed from older version of KDE. Connections GUI puts all its faith in NetworkManager and cuts the user off from simpler and more reliable ways of configuring a home desktop. And its approach mixes up "how to do it" with "asking the user what they want to do".

\subsubsection{Setup OKI Postscript Printer}
I cant find any Printer configuration menu under {\em System Settings}. Consult KDE Help Center. Nothing about Printers. Search the Void repository 
\begin{verbatim}
\# xbps-query -Rs printer
....
[-] system-config-printer-1.5.13_2      CUPS printer configuration tool and status applet
[-] system-config-printer-udev-1.5.13_2 CUPS printer configuration tool (udev integration)
\# 
\end{verbatim}
That does not look like a KDE app, but we will try it
\begin{verbatim}
xbps-install system-config-printer system-config-printer-udev
...........
ERROR: [trans] failed to download `libsecret-0.20.5_1' signature from `https://alpha.de.repo.voidlinux.org/current': Not Found
\end{verbatim}
Abandon that . Probably not part of KDE anyway.

Just get CUPS and do it
\begin{verbatim}
xbps-install cups cups-filters cups-pdf
\end{verbatim}
Try the System Monitor - dont like the layout - prefer the Gnome layout with a running graph.
Need to start the CUPS daemon
\begin{verbatim}
\# ln -s /etc/sv/cupsd /var/service
\# sv status /var/service/*
run: /var/service/acpid: (pid 891) 4719s
run: /var/service/agetty-tty1: (pid 895) 4719s
run: /var/service/agetty-tty2: (pid 898) 4719s
run: /var/service/agetty-tty3: (pid 890) 4719s
run: /var/service/agetty-tty4: (pid 899) 4719s
run: /var/service/agetty-tty5: (pid 894) 4719s
run: /var/service/agetty-tty6: (pid 892) 4719s
run: /var/service/cupsd: (pid 2715) 13s
run: /var/service/dbus: (pid 901) 4719s
run: /var/service/dhcpcd: (pid 889) 4719s
run: /var/service/sddm: (pid 900) 4719s
run: /var/service/sshd: (pid 896) 4719s
run: /var/service/udevd: (pid 893) 4719s
run: /var/service/uuidd: (pid 897) 4719s
\# 
\end{verbatim}
So {\em cupsd} is running, now try to start up the {\em localhos:631} page in Firefox. Success.
Then I discover a widget called Manage Printing which has appeared in the Applications Launcher after CUPS was installed. Try that and it does exactly the same thing - brings up {\em localhost:631} in Firefox. 

Configure the OKI postscript printer. No problems. Had to install foomatic and gutenprint.

{\bf Verdict:} KDE have finally come to their senses and stopped providing a useless printer config GUI which does not work. The widget pointing to  CUPS browser page is fine. I wonder if this change is really KDE, or is it because we have KDE in Void Linux?

\subsubsection{Setup Brother MFC Printer}
This printer requires drivers from Brother. The drivers are .deb files. Void does not use Debian packages. I have to unpack the .deb files and do the install a step at a time by hand. The procedure is as follows.

There are two driver files cupswrapperMFC210C-1.0.2-3.i386.deb and mfc210clpr-1.0.2-1.i386.deb. Each is an {\em ar} archive with two {\em tar} files  and some ordinary files inside it. To unpack the cupswrapper do
\begin{verbatim}
1.
 ar -xv package.deb

2.
 mkdir instdir
 tar zxvf data.tar.gz -C instdir
instdir is a directory in current pwd

3.
 mkdir instdir/cupswrapperMFC210
 tar zxvf control.tar.gz -C instdir/cupswrapperMFC210

4. to inspect content
tar ztvf data.tar.gz

5. cd instdir/cupswrapperMFC210 && sudo ./postinst
\end{verbatim}
To unpack the mfc210 driver do a similar sequence
\begin{verbatim}
1.
 ar -xv package.deb

2.
 mkdir instdir
 tar zxvf data.tar.gz -C instdir
instdir is a directory in current pwd

3.
 mkdir instdir/mfc210clpr
 tar zxvf control.tar.gz -C instdir/mfc210clpr

4. to inspect content
tar ztvf data.tar.gz

5. cd instdir/mfc210clpr && sudo ./postinst

\end{verbatim}

Then got thu the setup sequence
\begin{verbatim}
Setting up Brother MFC640CW in Void Linux

1. Install the multilib repository first
xbps-install void-repo-multilib

2. Synchronize repository index files
xbps-install -S

3. Install missing 32-bit libraries
In current/multilib
libstdc++-32bit
libstdc++-devel-32bit
xbps-install libstdc++-32bit
xbps-install libstdc++-devel-32bit

4. Find a C shewll and install it
xbps -Rs csh
-> only tcsh available
xbps-install tcsh

5. These directories need to be present
mkdir /var/spool/lpd
/usr/lib/cups  exists
/usr/llib/cups/filter  exists
/usr/share/cups/model  exists

6. extract files from the mfc210clpr-1.0.2-1.i386.deb package
see file Note in ./debpackage/mfc210clpr

7. Install the mfc driver
Extracted files are in
./debpackage/mfc210clpr/instdir
Copy everything in ./debpackage/mfc210clpr/instdir/usr to /usr
ie
cd /usr/bin
cp .../instdir/usr/bin/* .
cd /usr/lib
cp .../instdir/usr/lib/* .
cd /usr/local
cp -r .../instdir/usr/local/* .

8. extract files from the cupswrapperMFC210C-1.0.2-3.i386.deb package
see file Note in ./debpackage/cupswrapper

9. Install the cupswrapper
Extracted files are in 
./debpackage/cupswrapper/instdir
.../instdir/usr has 2 subdirectories local and share
cd /usr/local/Brother
cp -r .../instdir/usr/local/Brother/* .
cd /usr/share/doc
cp -r .../instdir/usr/share/doc/* .

10. post install mfc stuff
cd /usr/local/Brother/inf
./setupPrintcapij MFC210C -i USB
-> chown invalid user 'lp'
group 'lp' exists but user 'lp' does not exist
ignore

links in postinst
ln -s /usr/lib/libbrcompij2.so.1.0.2 /usr/lib/libbrcompij2.so.1.0
ln -s /usr/lib/libbrcompij2.so.1.0.2 /usr/lib/libbrcompij2.so.1
ln -s /usr/lib/libbrcompij2.so.1.0.2 /usr/lib/libbrcompij2.so

Void has no lpd so cant restart it

11. post install cups stuff
tcsh /usr/local/Brother/cupswrapper/cupswrapperMFC210C-1.0.2 -i
-> message
rm -f /usr/lib/cups/filter/brlpdwrapperMFC210C
ignore -- file is still there

12. 32 bit libs
cp /usr/lib/libbr* /usr/lib32/

13. Do the CUPS setup for printer
Discovered network printers
o.  Brother MFC-640CW

Name: MFC210C
Description: Brother MFC-640CW
Loc: Office
Make: Brother
Model: BrotherMFC210C CUPS V1.1(en)
A4
Set default options
Connection set autoomatically to: socket://192.168.32.98 because was discovered

14. Print a test page

\end{verbatim}
 Quite a challenge, but it works. 
No way a GUI is going to help with this sort of thing.

\subsubsection{Mounting filesystems}
Same as before. There is no GUI for editing {\em /etc/fstab}

\subsubsection{Adding a directory to the search path}
There is no {\em System - Bash Config} menu in Void/KDE. I think that may have been an MX addition. I have to edit {\em .bashrc\_profile} at the command line.


\subsection{Using GUI tools }
\subsubsection{File Manager}
Exactly the same as older version. Dolphin knows both the content-filetype and the filename-extension-filetype and it uses the latter to decide what to display the file with. I would prefer it use the former, or give the user a choice. 
Also see discussion of this topic on itsFOSS forum.

\subsubsection{\LaTeX install}
 There is no GUI installer in Void. I have to do it at the command line
\begin{verbatim}
xbps-install texlive
xbps-install texlive-latex-extra
xbps-install okular
\end{verbatim}
Simple enough, but a null result for the KDE GUI.
One of the best KDE products,  for me, is {\em okular}. It works much better with \LaTeX than the {\em evince} alternative. {\em Okular} has no File or Open facility ... it seems to be latched to the file that you invoke it with.   OK Open is in the extended menu ... surely it should be visible when you start up?

\subsubsection{R install}
So lets try {\em Discover} again. That should be interesting combined with {\em xbps}.
Well it is interesting. There {\em is} no {\em Discover} package. I guess {\em Discover} is .deb based and does not mesh with Void's {\em xbps} package system, so they just omitted it. Searched the package system ... there is no {\em Discover} package.

Never mind R  base packages are easily installed at the command line with {\em xbps}. I did the following
\begin{verbatim}
xbps-install R
\end{verbatim}
We get R-4.1.3\_1 which is really up-to-date. Void is good at keeping R updated. 
R is a 44Mb download and takes 96Mb of disk space.
After install R does not appear in the App Launcher. That is better. Probably a Void credit. Go to an R workin directory and invoke it ... it works.
\begin{verbatim}
> sessionInfo()
R version 4.1.3 (2022-03-10)
Platform: x86_64-unknown-linux-gnu (64-bit)
Running under: Void Linux

Matrix products: default
BLAS/LAPACK: /usr/lib/libopenblasp-r0.3.18.so
\end{verbatim}
So it gets best Matrix library. All OK

\subsubsection{Julia install}
We do not have the MX package installer in Void. So using {\em xbps} at the command line  again we do
\begin{verbatim}
xbps-install julia
\end{verbatim}
We end up with a Julia icon in the App Launcher, and it does exactly the same as before - brings up a Konsole window in the home directory with the Julia REPL running. Another useless icon.

\subsubsection{Vi usage}
The {\em vi} problems have disappeared. {\em View} does not clash with {\em Midnight Commander editor} because the latter is not installed. So this was an MX issue.

The issue of {\em vi} coming out of insert mode if the mouse/cursor is moved out of the window does not exist. I believe this was a {\em vim} problem, so Void must have a later version of {\em vim} or it must configure its way out of the mess. Copy and paste in and out of {\em vi} work. {\em vi} is not setup to have cursor movement by the mouse.

\subsection{Comparative assessments}
The workflow is a little better because KDE have removed the clutter of apps from the launcher. They have gone to the other extreme and put almost no apps in the Launcher by default ( like Gnome). There was some confusion about whether apps go into the launcher when they are installed or whether the user had to manually insert them. My install started off manual, then mysteriously changed to automatic upon install.

The look and feel are much the same. I dont see anything very pretty and I dont feel particularly excited when using it. 

{\bf Verdict:} Might increase the workflow rating to be same as Gnome ( ie 7) . Rest stays same.

\subsection{Plasmoids}
 Much the same. The KDE Help Centre is low on details. When I add a widget to the screen it minimizes all my windows, for no apparent reason. There are no thumbnails in the Add Widgets menu - I assume something is not installed - but the text is there and they work. 

The Plasmoids are more visible. When I use the System Monitor it brings up its displays of CPU and Network Rates, etc as separate desktop widgets instead of all inside the window. That is a good application of Plasmoids. Not sure if I like having it split up, they tend to get lost under windows.

\subsection{Has the conclusion changed?}
There is progress.  The useless Printer Configuration GUI has disapeared (this may be Void rather than KDE), and they have tidied up the App Launcher although there is some confusion about its work rules. There is also an App Launcher Menu ( instead of the Gnome-like icon layout of the default launcher), so choices have been added. The new default of almost no apps appearing in the Launcher is preferable to the large number previously there by default. There are still some untidy bits - what do I want with IBus preferences when all it does is tell me the IBus daemon is not running?

I think the biggest priority from the point of view of a novice user , would now be to revamp the Connections GUI. 

KDE is still a large highly configurable desktop environment. That has not changed. There is improvement in the workability.  I do not have any problem using it, but it provides many more options than I need.  
Wayland works, but its terminal window sizing is peculiar and it loses control of the mouse on the logout screen. I prefer X11 for now.

KDE is not a very clean match with Void Linux.  Their philosophies differ. I did KDE with Void to get the latest KDE, but my choice of DTE for Void would be their default Xfce.
\end{document}
